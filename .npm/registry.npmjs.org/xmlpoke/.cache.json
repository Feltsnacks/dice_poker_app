{"_id":"xmlpoke","_rev":"22-7915c009b451f62398ccc2ce3569271a","name":"xmlpoke","description":"Module for modifying XML files.","dist-tags":{"latest":"0.1.12"},"versions":{"0.1.0":{"name":"xmlpoke","version":"0.1.0","description":"Module for modifying XML files.","homepage":"https://github.com/mikeobrien/node-xmlpoke","main":"src/xmlpoke.js","bugs":{"url":"https://github.com/mikeobrien/node-xmlpoke/issues"},"repository":{"type":"git","url":"https://github.com/mikeobrien/node-xmlpoke.git"},"keywords":["xmlpoke","xml"],"scripts":{"test":"gulp"},"author":{"name":"Mike O'Brien"},"license":"MIT","files":["src/*.js","README.md","LICENSE"],"devDependencies":{"cases":"^0.1.1","chai":"^1.10.0","gulp":"~3.8.10","gulp-filter":"~1.0.2","gulp-jshint":"~1.9.0","gulp-mocha":"~1.1.1","temp":"^0.8.1","touch":"0.0.3"},"dependencies":{"glob":"^4.2.1","lodash":"^2.4.1","underscore.string":"^2.4.0","xmldom":"^0.1.19","xpath":"0.0.7"},"gitHead":"8f32bd16dd837560c1ac80e7aa9b3fe37116c58f","_id":"xmlpoke@0.1.0","_shasum":"e467b7eca78af82025ec6c70c79435b54edc3c35","_from":".","_npmVersion":"2.1.7","_nodeVersion":"0.10.33","_npmUser":{"name":"hcoverlambda","email":"mob@mikeobrien.net"},"maintainers":[{"name":"hcoverlambda","email":"mob@mikeobrien.net"}],"dist":{"shasum":"e467b7eca78af82025ec6c70c79435b54edc3c35","tarball":"https://registry.npmjs.org/xmlpoke/-/xmlpoke-0.1.0.tgz"},"directories":{}},"0.1.1":{"name":"xmlpoke","version":"0.1.1","description":"Module for modifying XML files.","homepage":"https://github.com/mikeobrien/node-xmlpoke","main":"src/xmlpoke.js","bugs":{"url":"https://github.com/mikeobrien/node-xmlpoke/issues"},"repository":{"type":"git","url":"https://github.com/mikeobrien/node-xmlpoke.git"},"keywords":["xmlpoke","xml"],"scripts":{"test":"gulp"},"author":{"name":"Mike O'Brien"},"license":"MIT","files":["src/*.js","README.md","LICENSE"],"devDependencies":{"cases":"^0.1.1","chai":"^1.10.0","gulp":"~3.8.10","gulp-filter":"~1.0.2","gulp-jshint":"~1.9.0","gulp-mocha":"~1.1.1","temp":"^0.8.1","touch":"0.0.3"},"dependencies":{"glob":"^4.2.1","lodash":"^2.4.1","underscore.string":"^2.4.0","xmldom":"^0.1.19","xpath":"0.0.7"},"gitHead":"1df816a206e897190711701872842299f9377bea","_id":"xmlpoke@0.1.1","_shasum":"6f12033222c6fcf365e891013cbac8dd9485fb94","_from":".","_npmVersion":"2.1.7","_nodeVersion":"0.10.33","_npmUser":{"name":"hcoverlambda","email":"mob@mikeobrien.net"},"maintainers":[{"name":"hcoverlambda","email":"mob@mikeobrien.net"}],"dist":{"shasum":"6f12033222c6fcf365e891013cbac8dd9485fb94","tarball":"https://registry.npmjs.org/xmlpoke/-/xmlpoke-0.1.1.tgz"},"directories":{}},"0.1.2":{"name":"xmlpoke","version":"0.1.2","description":"Module for modifying XML files.","homepage":"https://github.com/mikeobrien/node-xmlpoke","main":"src/xmlpoke.js","bugs":{"url":"https://github.com/mikeobrien/node-xmlpoke/issues"},"repository":{"type":"git","url":"https://github.com/mikeobrien/node-xmlpoke.git"},"keywords":["xmlpoke","xml"],"scripts":{"test":"gulp"},"author":{"name":"Mike O'Brien"},"license":"MIT","files":["src/*.js","README.md","LICENSE"],"devDependencies":{"cases":"^0.1.1","chai":"^1.10.0","gulp":"~3.8.10","gulp-filter":"~1.0.2","gulp-jshint":"~1.9.0","gulp-mocha":"~1.1.1","temp":"^0.8.1","touch":"0.0.3"},"dependencies":{"glob":"^4.2.1","lodash":"^2.4.1","underscore.string":"^2.4.0","xmldom":"^0.1.19","xpath":"0.0.7"},"gitHead":"89c1d8beed9c4a61f935ed26f6948c2a57e93088","_id":"xmlpoke@0.1.2","_shasum":"4c60d50d3fa0cd5a13757c7e292deafaeb46852a","_from":".","_npmVersion":"2.1.7","_nodeVersion":"0.10.33","_npmUser":{"name":"hcoverlambda","email":"mob@mikeobrien.net"},"maintainers":[{"name":"hcoverlambda","email":"mob@mikeobrien.net"}],"dist":{"shasum":"4c60d50d3fa0cd5a13757c7e292deafaeb46852a","tarball":"https://registry.npmjs.org/xmlpoke/-/xmlpoke-0.1.2.tgz"},"directories":{}},"0.1.3":{"name":"xmlpoke","version":"0.1.3","description":"Module for modifying XML files.","homepage":"https://github.com/mikeobrien/node-xmlpoke","main":"src/xmlpoke.js","bugs":{"url":"https://github.com/mikeobrien/node-xmlpoke/issues"},"repository":{"type":"git","url":"https://github.com/mikeobrien/node-xmlpoke.git"},"keywords":["xmlpoke","xml"],"scripts":{"test":"gulp"},"author":{"name":"Mike O'Brien"},"license":"MIT","files":["src/*.js","README.md","LICENSE"],"devDependencies":{"cases":"^0.1.1","chai":"^1.10.0","gulp":"~3.8.10","gulp-filter":"~1.0.2","gulp-jshint":"~1.9.0","gulp-mocha":"~1.1.1","temp":"^0.8.1","touch":"0.0.3"},"dependencies":{"glob":"^4.2.1","lodash":"^2.4.1","underscore.string":"^2.4.0","xmldom":"^0.1.19","xpath":"0.0.7"},"gitHead":"6987cbf989ddc2a408c3348f9e7e6ba2dec8b072","_id":"xmlpoke@0.1.3","_shasum":"9e5c03d4edad97f0f211a34cc93f277f60b9c1e2","_from":".","_npmVersion":"2.1.7","_nodeVersion":"0.10.33","_npmUser":{"name":"hcoverlambda","email":"mob@mikeobrien.net"},"maintainers":[{"name":"hcoverlambda","email":"mob@mikeobrien.net"}],"dist":{"shasum":"9e5c03d4edad97f0f211a34cc93f277f60b9c1e2","tarball":"https://registry.npmjs.org/xmlpoke/-/xmlpoke-0.1.3.tgz"},"directories":{}},"0.1.4":{"name":"xmlpoke","version":"0.1.4","description":"Module for modifying XML files.","homepage":"https://github.com/mikeobrien/node-xmlpoke","main":"src/xmlpoke.js","bugs":{"url":"https://github.com/mikeobrien/node-xmlpoke/issues"},"repository":{"type":"git","url":"https://github.com/mikeobrien/node-xmlpoke.git"},"keywords":["xmlpoke","xml"],"scripts":{"test":"gulp"},"author":{"name":"Mike O'Brien"},"license":"MIT","files":["src/*.js","README.md","LICENSE"],"devDependencies":{"cases":"^0.1.1","chai":"^1.10.0","gulp":"~3.8.10","gulp-filter":"~1.0.2","gulp-jshint":"~1.9.0","gulp-mocha":"~1.1.1","temp":"^0.8.1","touch":"0.0.3"},"dependencies":{"glob":"^4.2.1","lodash":"^2.4.1","underscore.string":"^2.4.0","xmldom":"^0.1.19","xpath":"0.0.7"},"gitHead":"6ad3317a43bb3e88007b312d2d120b86ad6db169","_id":"xmlpoke@0.1.4","_shasum":"fb275ea51106125b987921bf615a5b43e13468f6","_from":".","_npmVersion":"2.1.7","_nodeVersion":"0.10.33","_npmUser":{"name":"hcoverlambda","email":"mob@mikeobrien.net"},"maintainers":[{"name":"hcoverlambda","email":"mob@mikeobrien.net"}],"dist":{"shasum":"fb275ea51106125b987921bf615a5b43e13468f6","tarball":"https://registry.npmjs.org/xmlpoke/-/xmlpoke-0.1.4.tgz"},"directories":{}},"0.1.5":{"name":"xmlpoke","version":"0.1.5","description":"Module for modifying XML files.","homepage":"https://github.com/mikeobrien/node-xmlpoke","main":"src/xmlpoke.js","bugs":{"url":"https://github.com/mikeobrien/node-xmlpoke/issues"},"repository":{"type":"git","url":"https://github.com/mikeobrien/node-xmlpoke.git"},"keywords":["xmlpoke","xml"],"scripts":{"test":"gulp"},"author":{"name":"Mike O'Brien"},"license":"MIT","files":["src/*.js","README.md","LICENSE"],"devDependencies":{"cases":"^0.1.1","chai":"^1.10.0","gulp":"~3.8.10","gulp-filter":"~1.0.2","gulp-jshint":"~1.9.0","gulp-mocha":"~1.1.1","temp":"^0.8.1","touch":"0.0.3"},"dependencies":{"glob":"^4.2.1","lodash":"^2.4.1","underscore.string":"^2.4.0","xmldom":"^0.1.19","xpath":"0.0.7"},"gitHead":"d848c62353fcf77c94c5d2a5def6a66b064f531c","_id":"xmlpoke@0.1.5","_shasum":"1dd4247c1df4f2dbe394ec444a0bce2bbdb03a76","_from":".","_npmVersion":"2.1.7","_nodeVersion":"0.10.33","_npmUser":{"name":"hcoverlambda","email":"mob@mikeobrien.net"},"maintainers":[{"name":"hcoverlambda","email":"mob@mikeobrien.net"}],"dist":{"shasum":"1dd4247c1df4f2dbe394ec444a0bce2bbdb03a76","tarball":"https://registry.npmjs.org/xmlpoke/-/xmlpoke-0.1.5.tgz"},"directories":{}},"0.1.6":{"name":"xmlpoke","version":"0.1.6","description":"Module for modifying XML files.","homepage":"https://github.com/mikeobrien/node-xmlpoke","main":"src/xmlpoke.js","bugs":{"url":"https://github.com/mikeobrien/node-xmlpoke/issues"},"repository":{"type":"git","url":"https://github.com/mikeobrien/node-xmlpoke.git"},"keywords":["xmlpoke","xml"],"scripts":{"test":"gulp"},"author":{"name":"Mike O'Brien"},"license":"MIT","files":["src/*.js","README.md","LICENSE"],"devDependencies":{"cases":"^0.1.1","chai":"^1.10.0","gulp":"~3.8.10","gulp-filter":"~1.0.2","gulp-jshint":"~1.9.0","gulp-mocha":"~1.1.1","temp":"^0.8.1","touch":"0.0.3"},"dependencies":{"glob":"^4.2.1","lodash":"^2.4.1","underscore.string":"^2.4.0","xmldom":"^0.1.19","xpath":"0.0.7"},"gitHead":"622fde7bdc4e370d48e54b734a2941796b6a5123","_id":"xmlpoke@0.1.6","_shasum":"581155fbfbc48101a8e62586ba749e0b0c79a5b0","_from":".","_npmVersion":"2.1.7","_nodeVersion":"0.10.33","_npmUser":{"name":"hcoverlambda","email":"mob@mikeobrien.net"},"maintainers":[{"name":"hcoverlambda","email":"mob@mikeobrien.net"}],"dist":{"shasum":"581155fbfbc48101a8e62586ba749e0b0c79a5b0","tarball":"https://registry.npmjs.org/xmlpoke/-/xmlpoke-0.1.6.tgz"},"directories":{}},"0.1.8":{"name":"xmlpoke","version":"0.1.8","description":"Module for modifying XML files.","homepage":"https://github.com/mikeobrien/node-xmlpoke","main":"src/xmlpoke.js","bugs":{"url":"https://github.com/mikeobrien/node-xmlpoke/issues"},"repository":{"type":"git","url":"https://github.com/mikeobrien/node-xmlpoke.git"},"keywords":["xmlpoke","xml"],"scripts":{"test":"gulp"},"author":{"name":"Mike O'Brien"},"license":"MIT","files":["src/*.js","README.md","LICENSE"],"devDependencies":{"cases":"^0.1.1","chai":"^1.10.0","gulp":"~3.8.10","gulp-filter":"~1.0.2","gulp-jshint":"~1.9.0","gulp-mocha":"~1.1.1","temp":"^0.8.1","touch":"0.0.3"},"dependencies":{"glob":"^4.2.1","lodash":"^2.4.1","underscore.string":"^2.4.0","xmldom":"^0.1.19","xpath":"0.0.7"},"gitHead":"8e3c7bed258d9a468d70e31f2d9bb490bba0f36d","_id":"xmlpoke@0.1.8","_shasum":"72cc199eb50e2600869ad35a3de1e3e77d8896f9","_from":".","_npmVersion":"2.1.7","_nodeVersion":"0.10.33","_npmUser":{"name":"hcoverlambda","email":"mob@mikeobrien.net"},"maintainers":[{"name":"hcoverlambda","email":"mob@mikeobrien.net"}],"dist":{"shasum":"72cc199eb50e2600869ad35a3de1e3e77d8896f9","tarball":"https://registry.npmjs.org/xmlpoke/-/xmlpoke-0.1.8.tgz"},"directories":{}},"0.1.9":{"name":"xmlpoke","version":"0.1.9","description":"Module for modifying XML files.","homepage":"https://github.com/mikeobrien/node-xmlpoke","main":"src/xmlpoke.js","bugs":{"url":"https://github.com/mikeobrien/node-xmlpoke/issues"},"repository":{"type":"git","url":"https://github.com/mikeobrien/node-xmlpoke.git"},"keywords":["xmlpoke","xml"],"scripts":{"test":"gulp"},"author":{"name":"Mike O'Brien"},"license":"MIT","files":["src/*.js","README.md","LICENSE"],"devDependencies":{"cases":"^0.1.1","chai":"^1.10.0","gulp":"~3.8.10","gulp-filter":"~1.0.2","gulp-jshint":"~1.9.0","gulp-mocha":"~1.1.1","temp":"^0.8.1","touch":"0.0.3"},"dependencies":{"glob":"^4.2.1","lodash":"^2.4.1","underscore.string":"^2.4.0","xmldom":"^0.1.19","xpath":"0.0.7"},"gitHead":"b78406db0abc229a03c589cfdb29f6960fc71292","_id":"xmlpoke@0.1.9","_shasum":"dc9303300a8806a36151742f830cca5534ed8a6b","_from":".","_npmVersion":"2.1.7","_nodeVersion":"0.10.33","_npmUser":{"name":"hcoverlambda","email":"mob@mikeobrien.net"},"maintainers":[{"name":"hcoverlambda","email":"mob@mikeobrien.net"}],"dist":{"shasum":"dc9303300a8806a36151742f830cca5534ed8a6b","tarball":"https://registry.npmjs.org/xmlpoke/-/xmlpoke-0.1.9.tgz"},"directories":{}},"0.1.10":{"name":"xmlpoke","version":"0.1.10","description":"Module for modifying XML files.","homepage":"https://github.com/mikeobrien/node-xmlpoke","main":"src/xmlpoke.js","bugs":{"url":"https://github.com/mikeobrien/node-xmlpoke/issues"},"repository":{"type":"git","url":"https://github.com/mikeobrien/node-xmlpoke.git"},"keywords":["xmlpoke","xml"],"scripts":{"test":"gulp"},"author":{"name":"Mike O'Brien"},"license":"MIT","files":["src/*.js","README.md","LICENSE"],"devDependencies":{"cases":"^0.1.1","chai":"^1.10.0","gulp":"~3.8.10","gulp-filter":"~1.0.2","gulp-jshint":"~1.9.0","gulp-mocha":"~1.1.1","temp":"^0.8.1","touch":"0.0.3"},"dependencies":{"glob":"^4.2.1","lodash":"^2.4.1","underscore.string":"^2.4.0","xmldom":"^0.1.19","xpath":"0.0.7"},"gitHead":"e2bfb28c6f4acfa7179636fecab548514d03b5f4","_id":"xmlpoke@0.1.10","_shasum":"526869226b2cc802c1aa3be101665b60f16172bd","_from":".","_npmVersion":"2.1.7","_nodeVersion":"0.12.2","_npmUser":{"name":"hcoverlambda","email":"mob@mikeobrien.net"},"maintainers":[{"name":"hcoverlambda","email":"mob@mikeobrien.net"}],"dist":{"shasum":"526869226b2cc802c1aa3be101665b60f16172bd","tarball":"https://registry.npmjs.org/xmlpoke/-/xmlpoke-0.1.10.tgz"},"directories":{}},"0.1.11":{"name":"xmlpoke","version":"0.1.11","description":"Module for modifying XML files.","homepage":"https://github.com/mikeobrien/node-xmlpoke","main":"src/xmlpoke.js","bugs":{"url":"https://github.com/mikeobrien/node-xmlpoke/issues"},"repository":{"type":"git","url":"https://github.com/mikeobrien/node-xmlpoke.git"},"keywords":["xmlpoke","xml"],"scripts":{"test":"gulp"},"author":{"name":"Mike O'Brien"},"license":"MIT","files":["src/*.js","README.md","LICENSE"],"devDependencies":{"cases":"^0.1.1","chai":"^1.10.0","gulp":"~3.8.10","gulp-filter":"~1.0.2","gulp-jshint":"~1.9.0","gulp-mocha":"~1.1.1","temp":"^0.8.1","touch":"0.0.3"},"dependencies":{"glob":"^4.2.1","lodash":"^2.4.1","underscore.string":"^2.4.0","xmldom":"^0.1.19","xpath":"0.0.7"},"gitHead":"f9849bfec92bffe9e87e1bda63b7936afca236a4","_id":"xmlpoke@0.1.11","_shasum":"1549a1009a950ce74c82413535321a7ed2f4034a","_from":".","_npmVersion":"2.1.7","_nodeVersion":"0.12.2","_npmUser":{"name":"hcoverlambda","email":"mob@mikeobrien.net"},"maintainers":[{"name":"hcoverlambda","email":"mob@mikeobrien.net"}],"dist":{"shasum":"1549a1009a950ce74c82413535321a7ed2f4034a","tarball":"https://registry.npmjs.org/xmlpoke/-/xmlpoke-0.1.11.tgz"},"directories":{}},"0.1.12":{"name":"xmlpoke","version":"0.1.12","description":"Module for modifying XML files.","homepage":"https://github.com/mikeobrien/node-xmlpoke","main":"src/xmlpoke.js","bugs":{"url":"https://github.com/mikeobrien/node-xmlpoke/issues"},"repository":{"type":"git","url":"https://github.com/mikeobrien/node-xmlpoke.git"},"keywords":["xmlpoke","xml"],"scripts":{"test":"gulp"},"author":{"name":"Mike O'Brien"},"license":"MIT","files":["src/*.js","README.md","LICENSE"],"devDependencies":{"cases":"^0.1.1","chai":"^1.10.0","gulp":"~3.8.10","gulp-filter":"~1.0.2","gulp-jshint":"~1.9.0","gulp-mocha":"~1.1.1","temp":"^0.8.1","touch":"0.0.3"},"dependencies":{"glob":"^4.2.1","lodash":"^2.4.1","underscore.string":"^2.4.0","xmldom":"0.1.19","xpath":"0.0.7"},"gitHead":"10bcba6995c4286e1243b00a89d9d85ea672ad9b","_id":"xmlpoke@0.1.12","_shasum":"dfb461a70b67ddc6eb4a3aff5e778f4aad7f1cbb","_from":".","_npmVersion":"2.1.7","_nodeVersion":"0.12.2","_npmUser":{"name":"hcoverlambda","email":"mob@mikeobrien.net"},"maintainers":[{"name":"hcoverlambda","email":"mob@mikeobrien.net"}],"dist":{"shasum":"dfb461a70b67ddc6eb4a3aff5e778f4aad7f1cbb","tarball":"https://registry.npmjs.org/xmlpoke/-/xmlpoke-0.1.12.tgz"},"directories":{}}},"readme":"# xmlpoke\n\n[![npm version](http://img.shields.io/npm/v/xmlpoke.svg?style=flat)](https://npmjs.org/package/xmlpoke) [![build status](http://img.shields.io/travis/mikeobrien/node-xmlpoke.svg?style=flat)](https://travis-ci.org/mikeobrien/node-xmlpoke) [![Dependency Status](http://img.shields.io/david/mikeobrien/node-xmlpoke.svg?style=flat)](https://david-dm.org/mikeobrien/node-xmlpoke) [![npm downloads](http://img.shields.io/npm/dm/xmlpoke.svg?style=flat)](https://npmjs.org/package/xmlpoke)\n\nNode module for modifying XML files. Inspired by [NAnt XmlPoke](http://nant.sourceforge.net/release/0.92/help/tasks/xmlpoke.html).\n\n## Install\n\n```bash\n$ npm install xmlpoke --save\n```\n\n## Usage\n\nThe xmlpoke module exports a function that modifies xml files:\n\n`xmlpoke(path1, [path2], [...], [pathMap], modify)`\n\nOr modifies an xml string:\n\n`xmlpoke(xml, modify)`\n\n#### Paths\n\nPaths are [globs](https://github.com/isaacs/node-glob) and can be any combination of strings, objects with a property that contains the path, or arrays of those. By default, objects are assumed to have a `path` property (Although this can be overridden). Here are some examples of valid path input: \n\n```js\nvar xmlpoke = require('xmlpoke');\n\nxmlpoke('**/*.xml', ...);\n\nxmlpoke('**/*.xml', '**/*.config', ...);\n\nxmlpoke([ '**/*.xml', '**/*.config' ], ...);\n\nxmlpoke([ '**/*.xml', '**/*.config' ], { path: '*.proj' }, ...);\n\nxmlpoke([ '**/*.xml', { path: '*.proj' } ], '**/*.config', ...);\n\nxmlpoke([ 'data/*.xml', { path: '*.proj' } ], [ '**/*.config', { path: '*.xml' } ], ...);\n```\n\nAs noted earlier, path objects are expected to have a `path` property. If you would like to override that you can pass in a function, *after* your paths, that map the path:\n\n```js\nvar projects = [ \n    { \n        path: '/some/path', \n        config: 'app.config' \n    }, \n    ... \n];\n\nxmlpoke(projects, function(p) { return path.join(p.path, p.config); }, ...);\n```  \n\n#### Modification\n\nThe last argument is a function that performs the modifications. This function is passed a DSL for manipulating the xml file.\n\n```js\nxmlpoke('**/*.config', function(xml) { \n    xml.set('data/connString', 'server=oh;db=hai');\n});\n\nvar xml = xmlpoke('<oh/>', function(xml) { \n    xml.set('oh', 'hai');\n});\n```\n\nPath objects, when supplied, are passed in the second argument:\n\n```js\nvar projects = [ \n    { \n        path: 'app.config', \n        version: '1.2.3.4' \n    }, \n    ... \n];\n\nxmlpoke(projects, function(xml, project) { \n    xml.set('app/version', project.version);\n});\n```\n\n##### Clearing Child Nodes\n\nYou can clear the children of all matching nodes with the `clear()` method:\n\n```js\nxmlpoke('**/*.config', function(xml) { \n    xml.clear('some/path');\n});\n```\n\nThe `errorOnNoMatches` option will cause this method to throw an exception if the specified XPath yields no results.\n\n##### Removing Nodes\n\nYou can remove all matching nodes with the `remove()` method:\n\n```js\nxmlpoke('**/*.config', function(xml) { \n    xml.remove('some/path');\n});\n```\n\nThe `errorOnNoMatches` option *does not* cause this method to throw an exception if the specified XPath yields no results.\n\n##### Ensuring the Existence of Elements\n\nYou can ensure the existence of elements with the `ensure(xpath)` method. This method will create the entire path. In order to do this the path must contain only elements. It must not contain any axis specifiers. Element axes can have a predicate that compares the *equality* of one or more attributes or elements with a *string* value. Only the `=` comparison operator and `and` logical operators are allowed. If these predicates are specified, and the element does not exist, the predicate values will be set in the new element. Any predicates that do not meet these exact requirements are ignored. The following are examples of acceptable XPaths and the resulting xml when the source is `<el1/>`:\n\n```js\nensure('el1/el2/el3');\n```\n```xml\n<el1>\n    <el2>\n        <el3/>\n    </el2>\n</el1>\n```\n```js\nensure(\"el1/el2[@attr1='1' and @attr2='2']/el3[el4='3']\");\n```\n```xml\n<el1>\n    <el2 attr1=\"1\" attr2=\"2\">\n        <el3>\n            <el4>3</el4>\n        </el3>\n    </el2>\n</el1>\n```\n\n##### Setting Values and Content\n\nYou can set the values or content of all matching nodes with the `set()`, `add()` and `setOrAdd()` methods. These methods take an XPath and a value or an object with XPath and value properties:\n\n`set([xpath, value]|[object])`\n\n`add([xpath, value]|[object])`\n\n`setOrAdd([xpath, value]|[object])`\n\n```js\nxmlpoke('**/*.config', function(xml) { \n    xml.set('some/path', 'value')\n       .add('some/path', 'value')\n       .setOrAdd('some/path', 'value')\n       .set({ 'first/path': 'value1', 'second/path': 'value2' })\n       .add({ 'first/path': 'value1', 'second/path': 'value2' })\n       .setOrAdd({ 'first/path': 'value1', 'second/path': 'value2' });\n});\n```\n\nThe `set()` method expects all elements and attributes in the XPath to exist. If they do not, they will be ignored by default. To throw an exception specify the `errorOnNoMatches` option.\n\nThe `add()` method will create a new target node regardless of if there is a match. As such, this method is not very useful for attributes unless you are sure it doesn't already exist. On the other hand the `setOrAdd()` method will attempt to create the node if it doesn't exist, then set its value or content. *This will not create the entire XPath as `ensure()` does, only the target element or attribute i.e. the last node in the XPath query.* So the parent XPath must exist otherwise it will be ignored by default (To instead throw an exception, specify the `errorOnNoMatches` option). To be created, the target must be an attribute or an element. Element XPaths can have a predicate that compares the *equality* of one or more attributes or elements with a *string* value. Only the `=` comparison operator and `and` logical operators are allowed. If these predicates are specified, and the element does not exist, the predicate values will be set in the new element. Any predicates that do not meet these exact requirements are ignored. The following are examples of acceptable XPaths and the resulting xml when the source is `<el1/>`:\n\n```js\nsetOrAdd('el1/@attr', 'value');\n```\n```xml\n<el1 attr=\"value\"/>\n```\n```js\nsetOrAdd('el1/el2', 'value');\n```\n```xml\n<el1>\n    <el2>value</el2>\n</el1>\n```\n```js\nsetOrAdd(\"el1[el2='value1']/el3[@attr1='value2' and @attr2='value3']\", 'value4');\n```\n```xml\n<el1>\n    <el2>value1</el2>\n    <el3 attr1=\"value2\" attr2=\"value3\">value4</el3>\n</el1>\n```\n\nValues can be strings, CData, raw xml, a function or an object containing multiple attribute and element values. For example:\n\n```js\nxmlpoke('**/*.config', function(xml) { \n\n    // Simple string value\n    xml.set('some/path', 'value');\n\n    // CData value\n    xml.set('some/path', xml.CDataValue('value'));\n\n    // Raw xml\n    xml.set('some/path', xml.XmlString('<el attr=\"value\">hai</el>'));\n\n    // Function\n    xml.set('some/path', function(node, value) { return 'value'; });\n\n    // XPath and object with element and attribute values\n    xml.set('some/path', {\n        '@attr': 'value',\n        el1: 'value',\n        el2: xml.CDataValue('value'),\n        el3: xml.XmlString('<el attr=\"oh\">hai</el>'),\n        el4: function(node, value) { return 'value'; }\n    });\n\n    // Object\n    xml.set({\n        'some/path/@attr': 'value',\n        'some/path/el1': 'value',\n        'some/path/el2': xml.CDataValue('value'),\n        'some/path/el3': xml.XmlString('<el attr=\"value\">hai</el>'),\n        'some/path/el4': function(node, value) { return 'value'; },\n        'some/path/el5': {\n                '@attr': 'value',\n                el1: 'value',\n                el2: xml.CDataValue('value'),\n                el3: xml.XmlString('<el attr=\"oh\">hai</el>'),\n                el4: function(node, value) { return 'value'; }\n            }\n        });\n});\n```\n\nThe `CDataValue()` and `XmlString()` methods exposed by the DSL are simply convenience methods for creating `CDataValue` and `XmlString` objects. These constructors are defined on the module and can be created directly as follows:\n\n```js\nvar xmlpoke = require('xmlpoke');\n\nvar cdata = new xmlpoke.CDataValue('value');\nvar xmlstring = new xmlpoke.XmlString('<el attr=\"value\">hai</el>');\n\nxmlpoke('**/*.config', function(xml) { \n    xml.set('some/path', cdata);\n    xml.set('some/path', xmlstring);\n});\n```\n\n#### Options\n\n##### Base XPath\n\nA base XPath can be specified so you do not have to specify the full XPath in following calls:\n\n```js\nxmlpoke('**/*.config', function(xml) { \n    xml.withBasePath('configuration/appSettings')\n       .set(\"add[@name='key1']\", 'value1'),\n       .set(\"add[@name='key2']\", 'value2');\n});\n```\n\n##### Namespaces\n\nNamespaces can be registered as follows:\n\n```js\nxmlpoke('**/*.config', function(xml) { \n    xml.addNamespace('y', 'uri:oh'),\n       .addNamespace('z', 'uri:hai'),\n       .set(\"y:config/z:value\", 'value');\n});\n```\n\n##### Empty Results\n\nBy default, XPaths that do not yield any results are quietly ignored. To throw an exception instead, you can configure as follows: \n\n```js\nxmlpoke('**/*.config', function(xml) { \n    xml.errorOnNoMatches(),\n    ...;\n});\n```\n\n## License\nMIT License\n","maintainers":[{"name":"hcoverlambda","email":"mob@mikeobrien.net"}],"time":{"modified":"2016-01-11T03:55:44.452Z","created":"2014-11-25T06:54:20.632Z","0.1.0":"2014-11-25T06:54:20.632Z","0.1.1":"2014-11-25T22:56:35.931Z","0.1.2":"2014-11-26T01:17:59.623Z","0.1.3":"2014-11-26T06:21:42.117Z","0.1.4":"2014-12-08T18:02:49.047Z","0.1.5":"2014-12-10T06:05:45.030Z","0.1.6":"2014-12-11T04:13:56.893Z","0.1.8":"2014-12-12T06:08:49.866Z","0.1.9":"2014-12-12T06:22:14.650Z","0.1.10":"2015-09-11T17:16:21.833Z","0.1.11":"2015-09-22T17:01:56.146Z","0.1.12":"2016-01-11T03:55:44.452Z"},"homepage":"https://github.com/mikeobrien/node-xmlpoke","keywords":["xmlpoke","xml"],"repository":{"type":"git","url":"https://github.com/mikeobrien/node-xmlpoke.git"},"author":{"name":"Mike O'Brien"},"bugs":{"url":"https://github.com/mikeobrien/node-xmlpoke/issues"},"license":"MIT","readmeFilename":"README.md","users":{"neftedollar":true},"_attachments":{},"_etag":"W/\"569327c0-62cd\"","_lastModified":"Mon, 11 Jan 2016 03:55:44 GMT"}